!function(){"use strict";jQuery(document).ready(function(p){var e,t,i,a,n,c,o,s,r,l,d=[];p(".timeLeftId").each(function(){d.includes(this.value)||d.push(this.value)}),p.each(d,function(e,t){var u=t,_=p("."+("timeLeftValue"+u)).val(),m=setInterval(function(){var e=new Date(_.replace(/-/g,"/")).getTime()-(php_vars.default?(e=new Date).getTime()+6e4*e.getTimezoneOffset()+36e5*php_vars.timezone:(e=(new Date).toLocaleString("en-US",{timeZone:php_vars.timezone}),(e=new Date(e)).getTime()));if(e<=0){if(clearInterval(m),p(".timeLeft"+u).length){for(var t=document.getElementsByClassName("startEndText"+u),a="Auction has ended",n=0;n<t.length;n++)p(t[n]).hasClass("auction_starts_in")&&(a="Auction has started. Please refresh the page.",p(t[n]).remove());p(".timeLeft"+u).text(a),p(".timeLeft"+u).css("display","inline-block")}}else{var o=Math.floor(e/864e5),i=Math.floor(e%864e5/36e5),c=Math.floor(e%36e5/6e4),s=Math.floor(e%6e4/1e3);if(null!=document.getElementsByClassName("timeLeft"+u))for(var r=document.getElementsByClassName("timeLeft"+u),l=r.length,d=0;d<l;d++)r[d].innerHTML='<div class="time_left-box"><p class="time-span">'+o+'</p><span class="label-span">'+php_vars.Days+'</span></div><div class="time_left-box"><p class="time-span">'+i+'</p><span class="label-span">'+php_vars.Hours+'</span></div><div class="time_left-box"><p class="time-span">'+c+'</p><span class="label-span">'+php_vars.Minutes+'</span></div><div class="time_left-box"><p class="time-span">'+s+'</p><span class="label-span">'+php_vars.Seconds+"</span></div>"}},1e3)}),1==(null!=document.getElementById("is_started")?document.getElementById("is_started").value:"")?(e=null!=document.getElementById("product_auction_type")?document.getElementById("product_auction_type").value:"",t=!0,p(window).on("focusin",function(){t=!0}).on("focusout",function(){t=!1}),i=document.getElementById("end_date").value,p("#product_type").length&&(l=setInterval(function(){var e=new Date(i.replace(/-/g,"/")).getTime()-(php_vars.default?(e=new Date).getTime()+6e4*e.getTimezoneOffset()+36e5*php_vars.timezone:(e=(new Date).toLocaleString("en-US",{timeZone:php_vars.timezone}),(e=new Date(e)).getTime())),t=Math.floor(e/864e5),a=Math.floor(e%864e5/36e5),n=Math.floor(e%36e5/6e4),o=Math.floor(e%6e4/1e3);null!=document.getElementById("time_left")&&(document.getElementById("time_left").innerHTML='<div class="time_left-box"><p class="time-span">'+t+'</p><span class="label-span">'+php_vars.Days+'</span></div><div class="time_left-box"><p class="time-span">'+a+'</p><span class="label-span">'+php_vars.Hours+'</span></div><div class="time_left-box"><p class="time-span">'+n+'</p><span class="label-span">'+php_vars.Minutes+'</span></div><div class="time_left-box"><p class="time-span">'+o+'</p><span class="label-span">'+php_vars.Seconds+"</span></div>"),e<0&&(clearInterval(l),document.getElementById("time_left").innerHTML="Auction has ended",t=document.getElementsByClassName("single_add_to_cart_button"),a=document.getElementsByClassName("auction-bid-simple"),n=document.getElementsByClassName("auction-bid-penny"),p(t).remove(),p(a).remove(),p(n).remove(),window.location.reload())},1e3),p(document).on("click",".single_add_to_cart_button",function(e){e.preventDefault();var a=p(this),e=a.closest("form.cart"),t=a.val(),n=e.find("input[name=quantity]").val()||1,t={action:"woocommerce_ajax_add_to_cart",product_id:e.find("input[name=product_id]").val()||t,product_sku:"",quantity:n,variation_id:e.find("input[name=variation_id]").val()||0};return p(document.body).trigger("adding_to_cart",[a,t]),p.ajax({type:"post",url:wc_cart_fragments_params.ajax_url,data:t,beforeSend:function(e){a.removeClass("added").addClass("loading")},complete:function(e){a.addClass("added").removeClass("loading")},success:function(e){var t;e.error&e.product_url?window.location=e.product_url:"login_error"===e.status?(p(".woocommerce-message").remove(),t=document.getElementsByClassName("auction-software-form"),p(e.notice_message).insertBefore(t)):p(document.body).trigger("added_to_cart",[e.fragments,e.cart_hash,a])}}),!1}),setInterval(function(){1==t&&(p(".auction_reserve_price").load(location.href+" .auction_reserve_price",""),"auction_simple"==e&&(p(".auction_current_bid_simple").load(location.href+" .auction_current_bid_simple>*",""),p(".auction_max_bid_simple").load(location.href+" .auction_max_bid_simple>*","")),"auction_reverse"==e&&(p(".auction_current_bid_reverse").load(location.href+" .auction_current_bid_reverse>*",""),p(".auction_max_bid_reverse").load(location.href+" .auction_max_bid_reverse>*","")),"auction_penny"==e&&(p(".auction_current_bid_penny").load(location.href+" .auction_current_bid_penny>*",""),p(".auction_remaining_bids").load(location.href+" .auction_remaining_bids","")),p("#auction_history_table").load(location.href+" #auction_history_table>*",""))},1e3*php_vars.timeinterval),p(document).on("click",".auction-bid-simple",function(e){e.preventDefault();var t=p(this),e=t.closest("form.cart"),a=t.val(),n=e.find("input[name=quantity]").val()||1,a=e.find("input[name=product_id]").val()||a,e=e.find("input[name=variation_id]").val()||0,o=document.getElementById("auction-price-incr-decr").value||0;return p.ajax({type:"post",url:wc_cart_fragments_params.ajax_url,data:{action:"woocommerce_ajax_add_to_cart_simple",product_id:a,product_sku:"",quantity:n,variation_id:e,auction_bid:1,price:o},beforeSend:function(e){t.removeClass("added").addClass("loading")},complete:function(e){t.addClass("added").removeClass("loading")},success:function(e){var t,a;e.error&e.product_url?window.location=e.product_url:"notice"===e.status&&(p(".woocommerce-message").remove(),t=document.getElementsByClassName("auction-software-form"),p(e.notice_message).insertBefore(t),1==e.change_bid&&(t=document.getElementsByClassName("auction_current_bid_simple"),p(t).empty(),p(t).append(e.change_current_bid),document.getElementById("auction-price-incr-decr").value=e.change_pricebox_bid,c=e.change_pricebox_bid,t=document.getElementsByClassName("single_add_to_cart_button"),1==e.remove_buy_it_now_cart_text)&&p(t).remove(),t=document.getElementById("auction_max_bid"),1==e.change_max_bid?(p(t).css({display:"table-row"}),a=document.getElementsByClassName("auction_max_bid_simple"),p(a).empty(),p(a).append(e.change_max_bid_value)):p(t).hide(),p(".auction_reserve_price").load(location.href+" .auction_reserve_price",""),p(".auction_current_bid_simple").load(location.href+" .auction_current_bid_simple>*",""),p(".auction_max_bid_simple").load(location.href+" .auction_max_bid_simple>*",""),p("#auction_history_table").load(location.href+" #auction_history_table>*",""),i=e.seconds)}}),!1}),p(document).on("click",".auction-bid-penny",function(e){e.preventDefault();var t=p(this),e=t.closest("form.cart"),a=t.val(),n=e.find("input[name=quantity]").val()||1,a=e.find("input[name=product_id]").val()||a,e=e.find("input[name=variation_id]").val()||0;return p.ajax({type:"post",url:wc_cart_fragments_params.ajax_url,data:{action:"woocommerce_ajax_add_to_cart_penny",product_id:a,product_sku:"",quantity:n,variation_id:e,auction_bid:1},beforeSend:function(e){t.removeClass("added").addClass("loading")},complete:function(e){t.addClass("added").removeClass("loading")},success:function(e){var t;e.error&e.product_url?window.location=e.product_url:"notice"===e.status&&(p(".woocommerce-message").remove(),t=document.getElementsByClassName("auction-software-form"),p(e.notice_message).insertBefore(t),1==e.change_bid&&(t=document.getElementsByClassName("auction_current_bid_penny"),p(t).empty(),p(t).append(e.change_current_bid),t=document.getElementsByClassName("single_add_to_cart_button"),1==e.remove_buy_it_now_cart_text?p(t).remove():(p(t).empty(),p(t).append(e.change_buy_it_now_cart_text))),p(".auction_reserve_price").load(location.href+" .auction_reserve_price",""),p(".auction_current_bid_penny").load(location.href+" .auction_current_bid_penny>*",""),p("#auction_history_table").load(location.href+" #auction_history_table>*",""),p(".auction_remaining_bids").load(location.href+" .auction_remaining_bids",""),i=e.seconds)}}),!1}),p(document).on("click",".auction-bid-reverse",function(e){e.preventDefault();var t=p(this),e=t.closest("form.cart"),a=t.val(),n=e.find("input[name=quantity]").val()||1,a=e.find("input[name=product_id]").val()||a,e=e.find("input[name=variation_id]").val()||0,o=document.getElementById("auction-price-incr-decr").value||0;return p.ajax({type:"post",url:wc_cart_fragments_params.ajax_url,data:{action:"woocommerce_ajax_add_to_cart_reverse",product_id:a,product_sku:"",quantity:n,variation_id:e,auction_bid:1,price:o},beforeSend:function(e){t.removeClass("added").addClass("loading")},complete:function(e){t.addClass("added").removeClass("loading")},success:function(e){var t,a;e.error&e.product_url?window.location=e.product_url:"notice"===e.status&&(p(".woocommerce-message").remove(),t=document.getElementsByClassName("auction-software-form"),p(e.notice_message).insertBefore(t),1==e.change_bid&&(t=document.getElementsByClassName("auction_current_bid_reverse"),p(t).empty(),p(t).append(e.change_current_bid),document.getElementById("auction-price-incr-decr").value=e.change_pricebox_bid,c=e.change_pricebox_bid,t=document.getElementsByClassName("single_add_to_cart_button"),1==e.remove_buy_it_now_cart_text)&&p(t).remove(),t=document.getElementById("auction_max_bid"),1==e.change_max_bid?(p(t).css({display:"table-row"}),a=document.getElementsByClassName("auction_max_bid_reverse"),p(a).empty(),p(a).append(e.change_max_bid_value)):p(t).hide(),p(".auction_reserve_price").load(location.href+" .auction_reserve_price",""),p(".auction_current_bid_reverse").load(location.href+" .auction_current_bid_reverse>*",""),p(".auction_max_bid_reverse").load(location.href+" .auction_max_bid_reverse>*",""),p("#auction_history_table").load(location.href+" #auction_history_table>*",""),i=e.seconds)}}),!1}),p("#auction-price-incr-decr").length)&&(p("#auction-price-incr-decr").on("input",function(){this.value=this.value.replace(/[^\d.]/g,"").replace(/(\..*)\./g,"$1").replace(/(\.[\d]{2})./g,"$1")}),a=document.getElementById("auction_current_bid"),s=document.getElementById("auction_start_price"),n=document.getElementById("auction_bid_increment"),o=document.getElementById("auction_initial_bid_placed"),c="",0==a.value&&1!=o.value?c=s.value:p(".auction-bid-simple").length?c=(parseFloat(a.value)+parseFloat(n.value)).toFixed(2):p(".auction-bid-reverse").length&&(c=(parseFloat(a.value)-parseFloat(n.value)).toFixed(2)),document.getElementById("auction-price-incr-decr").value=c,o=p(".cart-price-plus"),s=p(".cart-price-minus"),o.click(function(){var e=p(this).parent(".button-container").parent(".container").find(".price");e.val(Number(e.val())+1)}),s.click(function(){var e=p(this).parent(".button-container").parent(".container").find(".price");Number(e.val());e.val(Number(e.val())-1)}))):(r="",p("#start_date").length&&(r=document.getElementById("start_date").value),p("#product_type").length&&(l=setInterval(function(){var e=new Date(r.replace(/-/g,"/")).getTime()-(php_vars.default?(e=new Date).getTime()+6e4*e.getTimezoneOffset()+36e5*php_vars.timezone:(e=(new Date).toLocaleString("en-US",{timeZone:php_vars.timezone}),(e=new Date(e)).getTime())),t=Math.floor(e/864e5),a=Math.floor(e%864e5/36e5),n=Math.floor(e%36e5/6e4),o=Math.floor(e%6e4/1e3);null!=document.getElementById("time_start")&&(document.getElementById("time_start").innerHTML='<div class="time_left-box"><p class="time-span">'+t+'</p><span class="label-span">'+php_vars.Days+'</span></div><div class="time_left-box"><p class="time-span">'+a+'</p><span class="label-span">'+php_vars.Hours+'</span></div><div class="time_left-box"><p class="time-span">'+n+'</p><span class="label-span">'+php_vars.Minutes+'</span></div><div class="time_left-box"><p class="time-span">'+o+'</p><span class="label-span">'+php_vars.Seconds+"</span></div>"),e<0&&(clearInterval(l),p("#time_start").length)&&(document.getElementById("time_start").innerHTML="Auction has started. Please refresh the page.")},1e3))),p(document).on("click",".auctionadd-watchlist",function(e){e.preventDefault();var e=p(this).data("value"),t=document.getElementById("auctionadd-watchlist"),a=document.getElementById("auctionremove-watchlist"),n=document.getElementById("auctionlogin_message");return p.ajax({type:"post",url:wc_cart_fragments_params.ajax_url,data:{action:"woocommerce_ajax_add_to_auctionwatchlist",product_id:e},beforeSend:function(e){},complete:function(e){},success:function(e){e.error&e.product_url?window.location=e.product_url:"success"==e?(t.style.display="none",a.style.display="block"):"notlogin"==e&&(t.style.display="none",a.style.display="none",n.style.display="block")}}),!1}),p(document).on("click",".auctionremove-watchlist",function(e){e.preventDefault();var e=p(this).data("value"),t=document.getElementById("auctionadd-watchlist"),a=document.getElementById("auctionremove-watchlist"),n=document.getElementById("auctionlogin_message");return p.ajax({type:"post",url:wc_cart_fragments_params.ajax_url,data:{action:"woocommerce_ajax_remove_from_auctionwatchlist",product_id:e},beforeSend:function(e){},complete:function(e){},success:function(e){e.error&e.product_url?window.location=e.product_url:"success"==e?(t.style.display="block",a.style.display="none"):"notlogin"==e&&(t.style.display="none",a.style.display="none",n.style.display="block")}}),!1})})}();